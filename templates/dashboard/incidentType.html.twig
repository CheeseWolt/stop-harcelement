<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<link rel="stylesheet" href="{{asset('assets/css/homeStyle.css')}}">

<style>
#column {
    min-width: 310px; 
    height: 400px; 
    margin: 0 auto;
}
</style>
<script>
    Highcharts.chart('incidentType', {
    chart: {
        type: 'column'
    },
    title: {
        text: "RÃ©partition des agressions par mois"
    },
    xAxis: {
        categories: [
                {% if tam is defined %}
                    {% for key, month in tam["Physique"] %}
                        "{{ key }}",
                    {% endfor %}
                {% endif %}
        ]
    },
    yAxis: {
        min: 0,
        title: {
        text: "Nombre d'incident"
        }
    },
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',
        shared: true
    },
    plotOptions: {
        series: {
            stacking: 'normal'
        }
    },
    series: [
        {% if tam is defined %}
            {% for key, style in tam %}
                {
                    name: '{{key}}',
                    data: [
                        {% for nb in style %}
                            {{ nb }},
                        {% endfor %}
                    ]
                },
            {% endfor %}
        {% endif %}
    ]
    });
</script>